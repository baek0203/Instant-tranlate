<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="translationHistory"></title>
  <link rel="stylesheet" href="src/popup/popup.css">
</head>
<body>
  <div class="header">
    <h1 data-i18n="translationHistory"></h1>
    <div class="header-buttons">
      <button class="header-btn" id="select-mode-btn" data-i18n="select"></button>
      <button class="header-btn select-mode-only hidden" id="select-all-btn" data-i18n="selectAll"></button>
      <button class="header-btn danger select-mode-only hidden" id="clear-btn" data-i18n="deleteAll"></button>
      <button class="header-btn normal-mode-only" id="export-btn" data-i18n="export"></button>

      <div class="menu-wrapper">
        <button class="header-btn" id="settings-menu-btn" title="Settings">⚙️</button>
        <div id="settings-dropdown" class="menu-dropdown hidden">
          <div class="menu-item" id="language-settings-btn" data-i18n="settings"></div>
          <div class="menu-item" id="contact-btn" data-i18n="contactUs"></div>
          <div class="menu-item" id="info-btn" data-i18n="info"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="container" id="container">
    <div class="empty-state">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/>
      </svg>
      <p data-i18n="noTranslationsStored"></p>
    </div>
  </div>

  <div class="settings-view hidden" id="settings-view">
    <div class="settings-content">
      <div class="section">
        <div class="section-title" data-i18n="translationLanguage"></div>
        <div class="section-description" data-i18n="translationLanguageDescription"></div>

        <div class="language-grid" id="language-grid">
          <!-- Languages will be populated by JavaScript -->
        </div>
      </div>

      <div class="divider"></div>

      <div class="settings-footer">
        <button class="btn btn-secondary" id="reset-btn" data-i18n="resetToDefault"></button>
        <button class="btn btn-primary" id="save-btn" data-i18n="saveSettings"></button>
      </div>
    </div>

    <div class="status-message" id="status-message">
      <span data-i18n="settingsSaved"></span>
    </div>
  </div>

  <div id="info-modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <h3 data-i18n="info"></h3>
      <div class="info-section">
        <p><strong data-i18n="version"></strong> <span>1.5.0</span></p>
        <p><strong data-i18n="name"></strong> <span>Instant Translate</span></p>
        <p><strong data-i18n="description"></strong> <span data-i18n="settingsDescription"></span></p>
      </div>
      <button class="modal-btn" id="close-info-btn" data-i18n="close"></button>
    </div>
  </div>

  <div id="action-bar" class="action-bar hidden">
    <span id="selected-count"></span>
    <div class="action-buttons">
      <button class="action-btn danger" id="delete-selected-btn" data-i18n="delete"></button>
      <button class="action-btn" id="cancel-select-btn" data-i18n="cancel"></button>
    </div>
  </div>

  <div id="feedback-toast" class="feedback-toast hidden">
    <span data-i18n="feedbackToast">Help us improve!</span>
    <a href="#" id="feedback-toast-link" target="_blank" data-i18n="feedbackLink">Take a quick survey</a>
  </div>

  <script src="src/shared/i18n.js"></script>
  <script src="src/shared/settings-store.js"></script>
  <script src="src/shared/translation-store.js"></script>
  <script src="src/shared/language-grid.js"></script>
  <script src="src/popup/state.js"></script>
  <script src="src/popup/i18n.js"></script>
  <script src="src/popup/history.js"></script>
  <script src="src/popup/settings-view.js"></script>
  <script src="src/popup/menu.js"></script>
  <script src="src/popup/init.js"></script>
</body>
</html>
